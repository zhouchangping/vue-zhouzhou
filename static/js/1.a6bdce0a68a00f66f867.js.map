{"version":3,"sources":["webpack:///./src/common/images/flow/P_01.jpg","webpack:///./src/common/images/flow/P_012.jpg","webpack:///./src/common/images/flow/P_07.jpg","webpack:///./src/common/images/flow/P_018.jpg","webpack:///./src/common/images/flow/P_09.jpg","webpack:///./src/common/images/flow/P_013.jpg","webpack:///./src/common/images/flow/P_00.jpg","webpack:///./src/common/images/flow/P_08.jpg","webpack:///./src/common/images/flow/P_04.jpg","webpack:///src/components/pubu.vue","webpack:///./src/components/pubu.vue?4254","webpack:///./src/components/pubu.vue","webpack:///./src/common/images/flow/P_017.jpg","webpack:///./src/common/images/flow/P_03.jpg","webpack:///./src/common/images/flow/P_014.jpg","webpack:///./src/common/images/flow/P_02.jpg","webpack:///./src/common/images/flow/P_06.jpg","webpack:///./src/common/images/flow/P_016.jpg","webpack:///./src/common/images/flow/P_011.jpg","webpack:///./src/common/images/flow/P_015.jpg","webpack:///./src/common/images/flow/P_010.jpg","webpack:///./src/common/images/flow/P_05.jpg","webpack:///./src/common/images/flow/P_019.jpg"],"names":["module","exports","__webpack_require__","p","pubu","imgSrc","methods","extends_default","offsetWidth","oBoxW","offsetHeight","hArr","minH","i","scrollTop","clientHeight","this","waterFall","length","components_pubu","render","_h","$createElement","_c","_self","attrs","id","_l","item","staticClass","src","alt","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"yCAAAA,EAAAC,QAAAC,EAAAC,EAAA,sDCAAH,EAAAC,QAAAC,EAAAC,EAAA,uDCAAH,EAAAC,QAAAC,EAAAC,EAAA,sDCAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,uJCUAC,uCAIAC,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EAEA,oBACAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EACA,UAAAG,OAAAH,EAEA,oBAIAI,QAAAC,uFAGAC,mDACA,6CACA,uEACAC,kEACA,kGAGAC,kDAEAC,kDACAC,mCACA,6CACA,gEACA,0CACAF,4EAOAG,sDAKA,wCACA,mIAEAC,iEACAC,8IAWAC,gCAIAC,6HAIAJ,6BACAK,iCAEAD,yDCnGAE,GADiBC,OAFjB,WAA0B,IAAaC,EAAbL,KAAaM,eAA0BC,EAAvCP,KAAuCQ,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAvFV,KAAoGW,GAApGX,KAAoG,oBAAAY,GAAwC,OAAAL,EAAA,OAAiBM,YAAA,QAAkBN,EAAA,OAAYM,YAAA,QAAkBN,EAAA,OAAYE,OAAOK,IAAAF,EAAAvB,OAAA0B,IAAA,mBAEzOC,oBCCjB,IAcAC,EAdA/B,EAAA,OAcAgC,CACA9B,EACAe,GATA,EAVA,SAAAgB,GACAjC,EAAA,SAaA,kBAEA,MAUAkC,EAAA,QAAAH,EAAA,8BC1BAjC,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,0ECAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,qDCAAH,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA","file":"static/js/1.a6bdce0a68a00f66f867.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/P_01.d104cb7.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_01.jpg\n// module id = +Hn2\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_012.e999bd6.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_012.jpg\n// module id = 1OPP\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_07.7b1a133.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_07.jpg\n// module id = 7Hl2\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_018.12cc459.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_018.jpg\n// module id = D/HC\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_09.d113759.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_09.jpg\n// module id = EEZb\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_013.4ed0569.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_013.jpg\n// module id = J3p1\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_00.77d108a.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_00.jpg\n// module id = KcVC\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_08.d0f790d.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_08.jpg\n// module id = LcL0\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_04.536abe8.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_04.jpg\n// module id = LoSq\n// module chunks = 1"," <template>\r\n    <div id=\"main\">\r\n        <div class=\"pin\"  v-for=\"item in imageItems\">\r\n            <div class=\"box\">\r\n                <img :src=\"item.imgSrc\" alt=\"图片加载中\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {mapMutations} from 'vuex'\r\n    export default {\r\n        data() {\r\n            return {\r\n                imageItems: [\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_00.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_01.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_02.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_03.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_04.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_05.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_06.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_07.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_08.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_09.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_010.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_011.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_012.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_013.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_014.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_015.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_016.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_017.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_018.jpg\")},\r\n                  {\"imgSrc\": require(\"../common/images/flow/P_019.jpg\")}\r\n                ],\r\n                dataInt: [\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_00.jpg\")},\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_01.jpg\")},\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_02.jpg\")},\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_03.jpg\")},\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_04.jpg\")},\r\n                    {\"imgSrc\": require(\"../common/images/flow/P_05.jpg\")},\r\n                ],\r\n                hArr: []\r\n            }\r\n        },\r\n        methods: {\r\n            waterFall: function () {\r\n                this.hArr = [];\r\n                this.oBoxW = document.querySelectorAll('.pin')[0].offsetWidth;\r\n                this.parentEle = document.getElementById('main');\r\n                this.oBoxs = document.querySelectorAll('.pin');\r\n                this.cols = Math.floor(document.documentElement.clientWidth / this.oBoxW);\r\n                this.parentEle.style.cssText = 'width:' + this.oBoxW * this.cols + 'px; margin:0 auto;';\r\n                for (var i = 0; i < this.oBoxs.length; i++) {\r\n                    if (i < this.cols) {\r\n                        this.hArr.push(this.oBoxs[i].offsetHeight);\r\n                    } else {\r\n                        this.minH = Math.min.apply(null, this.hArr);\r\n                        this.index = this.getMinhIndex(this.hArr, this.minH);\r\n                        this.oBoxs[i].style.position = 'absolute';\r\n                        this.oBoxs[i].style.top = this.minH + 'px';\r\n                        this.oBoxs[i].style.left = this.oBoxs[this.index].offsetLeft + 'px';\r\n                        this.hArr[this.index]+= this.oBoxs[i].offsetHeight;\r\n                    }\r\n                }\r\n            },\r\n            getMinhIndex: function (arr, val) {\r\n                for (var i in arr) {\r\n                    if (arr[i] === val) {\r\n                        return i;\r\n                    }\r\n                }\r\n            },\r\n            checkScrollSlid: function () {\r\n                var oParent = document.getElementById('main');\r\n                var oBoxs = document.querySelectorAll('.pin');\r\n                var lastPinH = oBoxs[oBoxs.length - 1].offsetTop + Math.floor(oBoxs[oBoxs.length - 1].offsetHeight / 2); //创建【触发添加块框函数waterfall()】的高度：最后一个块框的距离网页顶部+自身高的一半(实现未滚到底就开始加载)\r\n                var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n                var heightWindow = document.body.clientHeight || document.documentElement.clientHeight;\r\n                return (lastPinH < scrollTop + heightWindow) ? true : false;\r\n            },\r\n            ...mapMutations({\r\n                setTitle: 'SET_SINGERS' // SET_SINGERS 区别常量名 修改标题\r\n            })\r\n        },\r\n        activated() { // keep-alive 组件激活时调用。\r\n            this.$store.commit('SET_SINGERS', '瀑布流'); // 该方法比较靠谱\r\n        },\r\n        mounted() {\r\n            var self = this;\r\n            //self.setTitle('瀑布流'); // 修改标题， keep-alive时没法触发。\r\n            window.onload = function () {\r\n                //self.$store.commit('incream', 123) // 修改标题\r\n                self.waterFall();\r\n                window.onscroll = function () {\r\n                    if (self.checkScrollSlid()) {\r\n                        for (var i = 0; i < self.dataInt.length; i++) {\r\n                            self.imageItems.push(self.dataInt[i]);\r\n                            console.log(self.imageItems.length)\r\n                            self.$nextTick(function () {\r\n                                self.waterFall();\r\n                            });\r\n                        }         \r\n                    }   \r\n                }   \r\n            }\r\n            // setTimeout(function () { // keep-alive 不会再次执行moutes\r\n            //   //self.$store.commit('incream', 123) // 修改标题\r\n            //     window.onscroll = function () {\r\n            //         if (self.checkScrollSlid()) {\r\n            //             for (var i = 0; i < self.dataInt.length; i++) {\r\n            //                 self.imageItems.push(self.dataInt[i]);\r\n            //                 self.$nextTick(function () {\r\n            //                     self.waterFall();\r\n            //                 });\r\n            //             }         \r\n            //         }   \r\n            //     }\r\n            //     self.waterFall();   \r\n            // }, 60);\r\n        },\r\n        deactivated() {\r\n            //this.waterFall();\r\n        },\r\n        components: {\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n    *{padding: 0;margin:0;}\r\n    #main{\r\n        position: relative;\r\n    }\r\n    .pin{\r\n        padding: 15px 0 0 15px;\r\n        float:left;\r\n    }\r\n    .box{\r\n        padding: 10px;\r\n        border:1px solid #ccc;\r\n        box-shadow: 0 0 6px #ccc;\r\n        border-radius: 5px;\r\n    }\r\n    .box img{\r\n        width:162px;\r\n        height:auto;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/pubu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},_vm._l((_vm.imageItems),function(item){return _c('div',{staticClass:\"pin\"},[_c('div',{staticClass:\"box\"},[_c('img',{attrs:{\"src\":item.imgSrc,\"alt\":\"图片加载中\"}})])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1482b78\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pubu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1482b78\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pubu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pubu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pubu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1482b78\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pubu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c1482b78\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pubu.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/P_017.79c7ea5.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_017.jpg\n// module id = NSMK\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_03.7963402.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_03.jpg\n// module id = OiVu\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_014.130bca3.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_014.jpg\n// module id = Z8Pj\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_02.2506fec.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_02.jpg\n// module id = ZVy0\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_06.e909588.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_06.jpg\n// module id = apsO\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_016.3fb7d41.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_016.jpg\n// module id = bEus\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_011.c174871.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_011.jpg\n// module id = etTZ\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_015.b7a8b81.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_015.jpg\n// module id = ixyb\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_010.657647f.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_010.jpg\n// module id = lEic\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_05.e1126a2.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_05.jpg\n// module id = pBUa\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/P_019.7afc88d.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/images/flow/P_019.jpg\n// module id = sK9Q\n// module chunks = 1"],"sourceRoot":""}